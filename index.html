<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ministry OS | Mission Control</title>

  <!-- React & ReactDOM (production builds are more reliable on Pages) -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>

  <!-- Babel (for in-browser JSX; OK for prototyping) -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- jsPDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>

  <!-- React Beautiful DnD (use dist path; UMD global is more consistent) -->
  <script src="https://unpkg.com/react-beautiful-dnd@13.1.1/dist/react-beautiful-dnd.min.js"></script>

  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'bg-main': '#050505',
            'bg-panel': '#0A0A0A',
            'bg-card': '#111111',
            'border-dim': '#222222',
            'border-light': '#333333',
            'accent': '#CCFF00',
            'accent-dim': 'rgba(204, 255, 0, 0.1)',
            'danger': '#ef4444',
            'danger-dim': 'rgba(239, 68, 68, 0.1)',
            'strategic': '#8B5CF6',
            'text-primary': '#EDEDED',
            'text-secondary': '#888888',
          },
          fontFamily: {
            mono: ['JetBrains Mono', 'monospace'],
            sans: ['Inter', 'sans-serif'],
            display: ['Oswald', 'sans-serif'],
          },
          boxShadow: {
            'glow': '0 0 20px rgba(204, 255, 0, 0.1)',
            'glow-red': '0 0 20px rgba(239, 68, 68, 0.15)',
          }
        }
      }
    }
  </script>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=JetBrains+Mono:wght@400;500&family=Oswald:wght@500;700&display=swap" rel="stylesheet">

  <style>
    body { background-color: #050505; color: #EDEDED; font-family: 'Inter', sans-serif; overflow: hidden; }
    .custom-scrollbar::-webkit-scrollbar { width: 6px; height: 6px; }
    .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
    .custom-scrollbar::-webkit-scrollbar-thumb { background: #222; border-radius: 3px; }
    .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #444; }
    @keyframes slideDown { from { opacity: 0; transform: translateY(-10px) scale(0.98); } to { opacity: 1; transform: translateY(0) scale(1); } }
    .cmd-enter { animation: slideDown 0.15s ease-out forwards; }
  </style>
</head>

<body>
  <!-- Visible sanity check so you know HTML is loading -->
  <div style="position:fixed;top:10px;left:10px;color:#CCFF00;font-family:monospace;z-index:9999">
    HTML loaded âœ…
  </div>

  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect, useMemo } = React;

    // Robust RBD global detection + friendly fail message
    const RBD =
      window.ReactBeautifulDnd ||
      window.ReactBeautifulDnD ||
      window["react-beautiful-dnd"];

    console.log("RBD check:", RBD);

    if (!RBD) {
      document.getElementById("root").innerHTML =
        "<div style='color:#fff;font-family:monospace;padding:20px'>Drag-and-drop library failed to load. Check network/CDN.</div>";
      throw new Error("react-beautiful-dnd did not load");
    }

    const { DragDropContext, Droppable, Draggable } = RBD;

    // --- ICONS ---
    const Icon = ({ path, size = 16, className = "" }) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24"
        fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"
        className={className}>
        {path}
      </svg>
    );

    const Icons = {
      Board: <rect x="3" y="3" width="18" height="18" rx="2" ry="2" />,
      List: <g><line x1="8" y1="6" x2="21" y2="6" /><line x1="8" y1="12" x2="21" y2="12" /><line x1="8" y1="18" x2="21" y2="18" /><line x1="3" y1="6" x2="3.01" y2="6" /><line x1="3" y1="12" x2="3.01" y2="12" /><line x1="3" y1="18" x2="3.01" y2="18" /></g>,
      Plus: <g><line x1="12" y1="5" x2="12" y2="19" /><line x1="5" y1="12" x2="19" y2="12" /></g>,
      ChevronDown: <polyline points="6 9 12 15 18 9" />,
      X: <g><line x1="18" y1="6" x2="6" y2="18" /><line x1="6" y1="6" x2="18" y2="18" /></g>,
      Focus: <circle cx="12" cy="12" r="10" />,
      Shield: <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" />,
      Folder: <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z" />,
      Alert: <g><circle cx="12" cy="12" r="10" /><line x1="12" y1="8" x2="12" y2="12" /><line x1="12" y1="16" x2="12.01" y2="16" /></g>,
      FileText: <g><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" /><polyline points="14 2 14 8 20 8" /><line x1="16" y1="13" x2="8" y2="13" /><line x1="16" y1="17" x2="8" y2="17" /><polyline points="10 9 9 9 8 9" /></g>,
      TrendUp: <polyline points="23 6 13.5 15.5 8.5 10.5 1 18" />,
      Trash: <g><polyline points="3 6 5 6 21 6" /><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" /></g>,
      Play: <polygon points="5 3 19 12 5 21 5 3" />,
      Pause: <g><rect x="6" y="4" width="4" height="16" /><rect x="14" y="4" width="4" height="16" /></g>,
    };

    // --- CONSTANTS ---
    const STORAGE_KEY = 'ministry_os_dashboard_v24';
    const ViewType = { BOARD: 'BOARD', PROJECT_LIST: 'PROJECT_LIST', PROJECT_DETAIL: 'PROJECT_DETAIL', GOALS: 'GOALS', MEETING: 'MEETING', FOCUS: 'FOCUS' };

    const Status = {
      TODO: { id: 'TODO', label: 'Not Started', color: 'bg-zinc-800 border-zinc-700 text-zinc-400' },
      WAITING: { id: 'WAITING', label: 'Waiting on Others', color: 'bg-orange-900/30 border-orange-800 text-orange-400' },
      BLOCKED: { id: 'BLOCKED', label: 'Blocked', color: 'bg-red-900/30 border-red-800 text-red-400' },
      IN_PROGRESS: { id: 'IN_PROGRESS', label: 'In Motion', color: 'bg-yellow-900/30 border-yellow-800 text-yellow-400' },
      DONE: { id: 'DONE', label: 'Completed', color: 'bg-green-900/30 border-green-800 text-green-400' },
    };

    const Priority = {
      LOW: { id: 'LOW', label: 'Low', color: 'text-zinc-400' },
      MEDIUM: { id: 'MEDIUM', label: 'Medium', color: 'text-blue-400' },
      HIGH: { id: 'HIGH', label: 'High', color: 'text-orange-400' },
      CRITICAL: { id: 'CRITICAL', label: 'Critical', color: 'text-red-500 font-bold' },
    };

    const Assignees = {
      JP: { initials: 'JP', color: 'bg-blue-500' },
      'Bri/Joy': { initials: 'BJ', color: 'bg-green-500' },
      Amanda: { initials: 'A', color: 'bg-purple-500' },
    };

    const InitialProjects = {
      YC26: { id: 'YC26', label: 'Youth Councils 2026', color: '#3B82F6', desc: 'Develop and Execute Youth Councils Brief and Plan. Lead the charge on planning pieces, vision, promotion, and special guests.', archived: false },
      RENDEZVOUS: { id: 'RENDEZVOUS', label: 'Rendezvous', color: '#EC4899', desc: 'Monthly youth gathering coordination and planning.', archived: false },
      DISCIPLESHIP: { id: 'DISCIPLESHIP', label: 'Discipleship & Camp', color: '#10B981', desc: 'Tracking, resource creation, and summer camp spiritual development.', archived: false },
      LEADERSHIP: { id: 'LEADERSHIP', label: 'Leadership', color: '#8B5CF6', desc: 'Internal committee formation and leadership development.', archived: false },
      ADMIN: { id: 'ADMIN', label: 'Administration', color: '#52525B', desc: 'General department upkeep, compliance, and HR goals.', archived: false }
    };

    const generateTasks = () => ([
      { id: 'OP1', title: 'Worship Band', project: 'YC26', isGoal: false, status: 'WAITING', priority: 'HIGH', assignee: 'JP', due: '2025-11-30', description: 'Waiting on Spark. TWC rejected by Tony.', est: '60m', log: [], subtasks: [], links: [] },
      { id: 'OP2', title: 'Swag', project: 'YC26', isGoal: false, status: 'BLOCKED', priority: 'MEDIUM', assignee: 'JP', due: '2025-12-01', description: 'Blocked: Internal Team Alignment Needed.', est: '120m', log: [], subtasks: [], links: [] },
      { id: 'OP3', title: 'Decor', project: 'YC26', isGoal: false, status: 'IN_PROGRESS', priority: 'MEDIUM', assignee: 'Bri/Joy', due: '2026-01-01', description: 'Delegated to Bri & Joy.', est: '180m', log: [], subtasks: [], links: [] },
      { id: 'OP4', title: 'Friday Night Afterglow', project: 'YC26', isGoal: false, status: 'WAITING', priority: 'LOW', assignee: 'Amanda', due: '2026-01-15', description: 'On hold until after Kettles.', est: '45m', log: [], subtasks: [], links: [] },
      { id: 'G4', title: 'Youth Councils Guests 2026', project: 'YC26', isGoal: true, status: 'DONE', priority: 'CRITICAL', assignee: 'JP', due: '2025-11-07', description: 'Contract received Nov 18.', est: 'DONE', log: [], subtasks: [], links: [] },
      { id: 'G5', title: 'Youth Councils Planning 2027', project: 'YC26', isGoal: true, status: 'TODO', priority: 'LOW', assignee: 'JP', due: '2026-04-30', description: 'Vision and promotion.', est: '120m', log: [], subtasks: [], links: [] },
      { id: 'G6', title: 'Youth Councils Brief 2026', project: 'YC26', isGoal: true, status: 'TODO', priority: 'HIGH', assignee: 'JP', due: '2025-12-19', description: 'Develop Brief and Plan.', est: '240m', log: [], subtasks: [], links: [] },
      { id: 'G1', title: 'Database Upkeep', project: 'ADMIN', isGoal: true, status: 'IN_PROGRESS', priority: 'MEDIUM', assignee: 'JP', due: 'Ongoing', description: 'Manage Corps Cadets.', est: '30m', log: [], subtasks: [], links: [] },
      { id: 'OP6', title: '2026 Locations', project: 'RENDEZVOUS', isGoal: false, status: 'WAITING', priority: 'HIGH', assignee: 'JP', due: '2025-12-01', description: 'Waiting on Aurora, Blue Island.', est: '60m', log: [], subtasks: [], links: [] },
      { id: 'G14', title: 'Discipleship Frame', project: 'DISCIPLESHIP', isGoal: true, status: 'DONE', priority: 'HIGH', assignee: 'JP', due: '2026-11-07', description: 'Develop discipleship model.', est: 'DONE', log: [], subtasks: [], links: [] },
    ]);

    const eventTemplate = [
      {text: "Create registration in Campbrain (10 weeks out)", completed: false},
      {text: "Email field info (10 weeks out)", completed: false},
      {text: "Organize Binder (1 week out)", completed: false},
      {text: "Print Name Tags", completed: false},
      {text: "Prepare Swag", completed: false},
      {text: "Communicate Final Numbers to Camp (2 weeks out)", completed: false}
    ];

    const Sidebar = ({ view, setView }) => (
      <div className="w-16 h-full border-r border-border-dim bg-bg-panel flex flex-col items-center py-6 z-20 shrink-0">
        <div className="w-10 h-10 rounded-xl bg-accent text-black flex items-center justify-center font-display font-bold text-xl mb-8 shadow-glow cursor-pointer hover:scale-105 transition-transform">M</div>
        <div className="flex flex-col gap-4 w-full px-2">
          <div onClick={() => setView(ViewType.PROJECT_LIST)} className={`w-full aspect-square rounded-lg flex items-center justify-center cursor-pointer transition-colors ${(view === ViewType.PROJECT_LIST || view === ViewType.PROJECT_DETAIL) ? 'bg-zinc-800 text-white' : 'text-text-secondary hover:text-white hover:bg-zinc-800'}`} title="Projects"><Icon path={Icons.Folder} size={20} /></div>
          <div onClick={() => setView(ViewType.BOARD)} className={`w-full aspect-square rounded-lg flex items-center justify-center cursor-pointer transition-colors ${view === ViewType.BOARD ? 'bg-zinc-800 text-white' : 'text-text-secondary hover:text-white hover:bg-zinc-800'}`} title="All Tasks"><Icon path={Icons.Board} size={20} /></div>
          <div onClick={() => setView(ViewType.GOALS)} className={`w-full aspect-square rounded-lg flex items-center justify-center cursor-pointer transition-colors ${view === ViewType.GOALS ? 'bg-zinc-800 text-white' : 'text-text-secondary hover:text-white hover:bg-zinc-800'}`} title="Performance Goals"><Icon path={Icons.Shield} size={20} /></div>
          <div onClick={() => setView(ViewType.FOCUS)} className={`w-full aspect-square rounded-lg flex items-center justify-center cursor-pointer transition-colors ${view === ViewType.FOCUS ? 'bg-accent text-black' : 'text-text-secondary hover:text-white hover:bg-zinc-800'}`} title="Focus Mode"><Icon path={Icons.Focus} size={20} /></div>
        </div>
      </div>
    );

    const ProjectListView = ({ projects, onViewDetail, onAddProject, onArchiveProject, onUnarchiveProject }) => {
      const [isAdding, setIsAdding] = useState(false);
      const [newProjectName, setNewProjectName] = useState('');

      const activeProjects = Object.values(projects).filter(p => !p.archived);
      const archivedProjects = Object.values(projects).filter(p => p.archived);

      const handleAdd = () => {
        if (newProjectName.trim()) {
          onAddProject(newProjectName);
          setNewProjectName('');
          setIsAdding(false);
        }
      };

      return (
        <div className="h-full p-8 overflow-y-auto custom-scrollbar">
          <div className="flex justify-between items-center mb-8">
            <h1 className="text-3xl font-display font-bold text-white uppercase tracking-tight">Active Operations</h1>
            <button onClick={() => setIsAdding(true)} className="bg-white text-black px-4 py-2 rounded font-bold text-xs uppercase hover:bg-accent transition-colors flex items-center gap-2">
              <Icon path={Icons.Plus} size={16} /> New Project
            </button>
          </div>

          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {activeProjects.map(p => (
              <div key={p.id} className="relative bg-bg-card border border-border-dim rounded-xl p-6 cursor-pointer hover:border-white/20 hover:shadow-glow transition-all group hover:-translate-y-1" onClick={() => onViewDetail(p.id)}>
                <button
                  onClick={(e) => { e.stopPropagation(); onArchiveProject(p.id); }}
                  className="absolute top-4 right-4 text-zinc-700 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity"
                >
                  <Icon path={Icons.Trash} size={14} />
                </button>
                <div className="flex justify-between items-start mb-4">
                  <div className="w-10 h-10 rounded bg-zinc-900 flex items-center justify-center text-lg border border-border-dim">
                    <div className="w-3 h-3 rounded-full" style={{ background: p.color }}></div>
                  </div>
                </div>
                <h2 className="text-xl font-display font-bold text-white mb-2">{p.label}</h2>
                <p className="text-sm text-zinc-500 line-clamp-2">{p.desc || 'No description.'}</p>
              </div>
            ))}

            {isAdding && (
              <div className="bg-bg-card border border-accent rounded-xl p-6 flex flex-col justify-center">
                <input
                  autoFocus
                  className="bg-zinc-900 border border-border-dim rounded p-2 text-white mb-2 outline-none"
                  placeholder="Project Name"
                  value={newProjectName}
                  onChange={e => setNewProjectName(e.target.value)}
                  onKeyDown={e => e.key === 'Enter' && handleAdd()}
                />
                <div className="flex gap-2">
                  <button onClick={handleAdd} className="bg-accent text-black px-3 py-1 rounded text-xs font-bold">Create</button>
                  <button onClick={() => setIsAdding(false)} className="text-zinc-500 px-3 py-1 rounded text-xs">Cancel</button>
                </div>
              </div>
            )}
          </div>

          {archivedProjects.length > 0 && (
            <div className="mt-12">
              <h2 className="text-2xl font-display font-bold text-white mb-6">Archived Projects</h2>
              <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                {archivedProjects.map(p => (
                  <div key={p.id} className="bg-bg-card border border-border-dim rounded-xl p-6 opacity-50 hover:opacity-100 transition-opacity">
                    <h3 className="text-lg font-bold text-white mb-2">{p.label}</h3>
                    <button onClick={() => onUnarchiveProject(p.id)} className="text-accent text-xs hover:underline">Unarchive</button>
                  </div>
                ))}
              </div>
            </div>
          )}
        </div>
      );
    };

    const BoardView = ({ tasks, projects, updateStatus, isMini = false }) => {
      const onDragEnd = (result) => {
        const { source, destination, draggableId } = result;
        if (!destination || source.droppableId === destination.droppableId) return;
        updateStatus(draggableId, destination.droppableId);
      };

      return (
        <DragDropContext onDragEnd={onDragEnd}>
          <div className={`flex ${isMini ? 'overflow-x-auto gap-4' : 'h-full overflow-x-auto p-6 gap-6 custom-scrollbar'}`}>
            {Object.keys(Status).map(key => {
              const columnTasks = tasks.filter(t => t.status === key);
              return (
                <Droppable droppableId={key} key={key}>
                  {(provided) => (
                    <div ref={provided.innerRef} {...provided.droppableProps} className="flex-shrink-0 w-80 flex flex-col h-full">
                      <div className="mb-3 px-1 flex justify-between">
                        <span className="text-xs font-bold text-text-secondary uppercase tracking-widest">{Status[key].label}</span>
                        <span className="text-[10px] bg-zinc-900 px-2 py-0.5 rounded text-zinc-500">{columnTasks.length}</span>
                      </div>
                      <div className="flex-1 bg-bg-panel/50 rounded-xl border border-dashed border-border-dim p-2 overflow-y-auto custom-scrollbar">
                        {columnTasks.map((t, index) => (
                          <Draggable draggableId={t.id} index={index} key={t.id}>
                            {(provided) => (
                              <div
                                ref={provided.innerRef}
                                {...provided.draggableProps}
                                {...provided.dragHandleProps}
                                className="bg-bg-card border border-border-dim p-3 rounded mb-2 cursor-pointer hover:border-text-secondary transition-all"
                              >
                                <div className="flex justify-between mb-2">
                                  <span className="text-[10px] text-zinc-500 font-mono">{projects[t.project]?.label || t.project}</span>
                                </div>
                                <div className="flex items-center gap-2 mb-2">
                                  {t.assignee && Assignees[t.assignee] && (
                                    <div className={`w-5 h-5 rounded-full ${Assignees[t.assignee].color} flex items-center justify-center text-[8px] text-white`}>
                                      {Assignees[t.assignee].initials}
                                    </div>
                                  )}
                                  <span className="text-sm text-white font-medium">{t.title}</span>
                                </div>
                                <div className="flex gap-2 mt-2 text-[10px]">
                                  <button onClick={(e) => { e.stopPropagation(); updateStatus(t.id, 'IN_PROGRESS'); }} className="px-2 py-0.5 bg-yellow-900/50 rounded">Start</button>
                                  <button onClick={(e) => { e.stopPropagation(); updateStatus(t.id, 'DONE'); }} className="px-2 py-0.5 bg-green-900/50 rounded">Complete</button>
                                  <button onClick={(e) => { e.stopPropagation(); updateStatus(t.id, 'BLOCKED'); }} className="px-2 py-0.5 bg-red-900/50 rounded">Block</button>
                                </div>
                              </div>
                            )}
                          </Draggable>
                        ))}
                        {provided.placeholder}
                      </div>
                    </div>
                  )}
                </Droppable>
              );
            })}
          </div>
        </DragDropContext>
      );
    };

    const App = () => {
      const [view, setView] = useState(ViewType.PROJECT_LIST);
      const [activeProject, setActiveProject] = useState(null);
      const [searchQuery, setSearchQuery] = useState('');

      const [projects, setProjects] = useState(() => {
        const saved = localStorage.getItem(STORAGE_KEY + '_projects');
        return saved ? JSON.parse(saved) : InitialProjects;
      });

      const [tasks, setTasks] = useState(() => {
        const saved = localStorage.getItem(STORAGE_KEY);
        return saved ? JSON.parse(saved) : generateTasks();
      });

      useEffect(() => { localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks)); }, [tasks]);
      useEffect(() => { localStorage.setItem(STORAGE_KEY + '_projects', JSON.stringify(projects)); }, [projects]);

      const filteredTasks = useMemo(() => {
        if (!searchQuery) return tasks;
        const q = searchQuery.toLowerCase();
        return tasks.filter(t =>
          t.title.toLowerCase().includes(q) ||
          (t.description || '').toLowerCase().includes(q) ||
          t.project.toLowerCase().includes(q)
        );
      }, [tasks, searchQuery]);

      const updateStatus = (id, newStatus) => {
        setTasks(prev => prev.map(t => t.id === id ? { ...t, status: newStatus } : t));
      };

      const addProject = (name) => {
        const id = name.toUpperCase().replace(/\s+/g, '');
        const newProj = { id, label: name, color: '#888888', desc: 'New Project', archived: false };
        setProjects(prev => ({ ...prev, [id]: newProj }));
      };

      const archiveProject = (id) => setProjects(prev => ({ ...prev, [id]: { ...prev[id], archived: true } }));
      const unarchiveProject = (id) => setProjects(prev => ({ ...prev, [id]: { ...prev[id], archived: false } }));

      const openProject = (pid) => { setActiveProject(pid); setView(ViewType.PROJECT_DETAIL); };

      return (
        <div className="flex w-screen h-screen bg-bg-main text-text-primary overflow-hidden font-sans">
          <Sidebar view={view} setView={setView} />
          <main className="flex-1 flex flex-col relative z-10 overflow-hidden">
            <div className="h-14 border-b border-border-dim flex items-center px-6 bg-bg-main shrink-0 justify-between">
              <div className="text-sm font-mono text-text-secondary uppercase tracking-widest">Command Center</div>
              <div className="flex-1 mx-4">
                <input
                  className="w-full bg-zinc-900 border border-border-dim p-2 rounded text-sm text-white placeholder-zinc-500"
                  placeholder="Search tasks..."
                  value={searchQuery}
                  onChange={e => setSearchQuery(e.target.value)}
                />
              </div>
            </div>

            <div className="flex-1 overflow-hidden relative bg-bg-main">
              {view === ViewType.PROJECT_LIST && (
                <ProjectListView
                  projects={projects}
                  onViewDetail={openProject}
                  onAddProject={addProject}
                  onArchiveProject={archiveProject}
                  onUnarchiveProject={unarchiveProject}
                />
              )}
              {view === ViewType.BOARD && (
                <BoardView tasks={filteredTasks} projects={projects} updateStatus={updateStatus} />
              )}
              {view === ViewType.PROJECT_DETAIL && (
                <div className="p-8 text-zinc-400">
                  Project detail view removed in this shortened drop-in version.
                  If you want, I can merge your full ProjectDetailView back in once the page is stable.
                </div>
              )}
              {view === ViewType.GOALS && (
                <div className="p-8 text-zinc-400">
                  Goals view removed in this shortened drop-in version.
                </div>
              )}
              {view === ViewType.FOCUS && (
                <div className="p-8 text-zinc-400">
                  Focus view removed in this shortened drop-in version.
                </div>
              )}
            </div>
          </main>
        </div>
      );
    };

    const rootEl = document.getElementById('root');
    const root = ReactDOM.createRoot(rootEl);
    root.render(<App />);
  </script>
</body>
</html>
